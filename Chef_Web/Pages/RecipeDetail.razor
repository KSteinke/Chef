@*@page "/RecipeDetails/{Id:int}"*@
@page "/RecipeDetails"
@using Chef_Models.Dtos;
@using Chef_Web.Services.Contracts;
@layout NoNavMenu;

@if (Recipes == null)
{
    <h3 class="mb-5">Wait!</h3>
    
}
else
{
    <div class="container text-center">
        <div class="row my-5">
            <div class="col">
                <img src="@($"data:image/jpg;base64,{Recipes.First().RecipeImgBase64}")" alt="Image" style="width: 100%;">
            </div>
            <div class="col">
                <div class="container text-left">
                    <div class="row my-5">
                        <p class="lead">@Recipes.First().Description</p>
                    </div>
                    <div class="row my-5">
                        <p class="lead">Chef: @Recipes.First().AuthorName</p>
                        </div>
                </div>
            </div>
        </div>
        <div class="row my-5">
            <div class="col">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent vitae metus nisi. Duis facilisis orci ac ipsum egestas, ut placerat sem mollis. Sed sagittis, erat et pretium dignissim, lorem mauris varius est, id tincidunt orci quam eget augue. Vestibulum non tortor in dolor venenatis pretium a non lorem. Quisque nisl dui, ultricies ut dui et, venenatis molestie odio. Proin nec euismod tortor, nec sodales ligula. Suspendisse iaculis nibh ut leo pharetra, ac dapibus arcu placerat. Duis ac sagittis ligula. Cras tempor fringilla justo, rutrum scelerisque dui convallis non. Vivamus eget pharetra magna.
            </div>
            <div class="col">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent vitae metus nisi. Duis facilisis orci ac ipsum egestas, ut placerat sem mollis. Sed sagittis, erat et pretium dignissim, lorem mauris varius est, id tincidunt orci quam eget augue. Vestibulum non tortor in dolor venenatis pretium a non lorem. Quisque nisl dui, ultricies ut dui et, venenatis molestie odio. Proin nec euismod tortor, nec sodales ligula. Suspendisse iaculis nibh ut leo pharetra, ac dapibus arcu placerat. Duis ac sagittis ligula. Cras tempor fringilla justo, rutrum scelerisque dui convallis non. Vivamus eget pharetra magna.
            </div>
        </div>
    </div>
}
@code {

    [Inject]
    public IRecipeService recipeService { get; set; }

    public IEnumerable<RecipeDto> Recipes { get; set; }

    public string ErrorMessage { get; set; }
    
    protected override async Task OnInitializedAsync()
    {
        try
        {
            Recipes = await recipeService.GetRecipes();
        }
        catch (Exception ex)
        {
            ErrorMessage = ex.Message;
        }

    }




}
